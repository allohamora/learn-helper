# Server Task Generation

This document describes the task types generated by the server (using AI) for the Learn Helper learning system. Each task type is generated dynamically based on the target vocabulary word or phrase.

## Ranking

Each task type is scored from 1 to 10 on seven parameters. Maximum total score is 70.

- **Retrieval Effort** - How hard the brain works to pull the word from memory. Passive reading = low effort. Producing word from scratch = high effort. Higher effort leads to stronger memory traces.
- **Cognitive Load** - Mental strain during the task. Too much (multiple inputs at once) overwhelms working memory. Too little (just staring) causes no learning. Optimal load = focused challenge.
- **Association Building** - Does the task connect the word to other knowledge? Isolated word-definition pairs = weak. Words linked to images, synonyms, contexts, personal experiences = strong network.
- **Feedback Quality** - What happens after an answer? No feedback = learner stays confused. "Correct/wrong" = minimal help. Showing correct answer + explanation + examples = strong learning signal.
- **Spacing Compatibility** - Can the task be repeated over time with growing intervals? One-time tasks fade. Tasks that return days/weeks later at optimal intervals = long-term retention.
- **Engagement Factor** - Does the learner want to continue? Boring repetition = dropout. Progress tracking, variety, achievable challenges = sustained motivation.
- **Transfer Potential** - Will the learner recognize this word when reading a real book or article? Drill-only tasks = weak transfer. Varied real-world contexts = strong transfer.

## Task Types

### 1. Fill in the Gap

**Description**: Students complete a sentence by filling in a blank with the target word or phrase.

**Schema**:

```typescript
{
  id: number;
  task: string; // Sentence with "___" placeholder (3-15 words)
  answer: string; // Correct word/phrase to fill the blank
}
```

**Notes**:

- **Grammatically correct**: All sentences must be grammatically correct and use natural, fluent English
- **Natural language**: Content should sound authentic and conversational, as a native speaker would use it
- **Keep tasks unique**: Avoid repeating sentence structures, topics, or contexts across different words to maintain engagement
- **Make it enjoyable**: Use interesting, relatable scenarios that learners can connect with their daily lives
- **Modern expressions**: Prefer modern, conversational English over formal or outdated expressions
- **Punctuation**: Sentences can end with periods (.), exclamation marks (!), or question marks (?) based on the sentence type
- **Phrase adaptation**: When target is a phrase with placeholders like "agree with (sb)", adapt naturally by providing context (e.g., "I agree with you")
- **Article context**: For articles (a/an), ensure the sentence requires that specific article based on the following word's sound (vowel vs. consonant)
- **Clarity over complexity**: Keep sentences concise (3-15 words) to maintain focus on the target vocabulary
- **Function words**: For grammatical words (articles, prepositions, conjunctions), create contexts where their specific usage is meaningful and not interchangeable
- **Target word placement**: The target word/phrase should appear only in the blank, nowhere else in the sentence
- **Case handling**: Answers are evaluated case-insensitively, but should be provided in the appropriate form

**Examples**:

- **Simple word**:
  - Word: "achieve"
  - Task: "She worked hard to \_\_\_ her goals."
  - Answer: "achieve"

- **Phrase**:
  - Word: "agree with (sb)"
  - Task: "I \_\_\_ you."
  - Answer: "agree with" (adapts placeholder naturally)

- **Multi-word phrase**:
  - Word: "look forward to"
  - Task: "We \_\_\_ the weekend."
  - Answer: "look forward to"

- **Article (a)**:
  - Word: "a"
  - Task: "She wants to buy \_\_\_ new car."
  - Answer: "a"

- **Article (an)**:
  - Word: "an"
  - Task: "He ate \_\_\_ apple for breakfast."
  - Answer: "an"

- **Exclamation sentence**:
  - Word: "amazing"
  - Task: "This view is \_\_\_!"
  - Answer: "amazing"

- **Question sentence**:
  - Word: "understand"
  - Task: "Do you \_\_\_ the question?"
  - Answer: "understand"

**Ranking**:

| Parameter             | Score | Reason                                                                 |
| --------------------- | ----- | ---------------------------------------------------------------------- |
| Retrieval Effort      | 7     | Must produce word from memory; sentence context provides some cues     |
| Cognitive Load        | 6     | Single sentence focus; slightly complex due to context parsing         |
| Association Building  | 7     | Word appears in meaningful context; builds sentence-level associations |
| Feedback Quality      | 6     | Shows correct answer; lacks explanation of word usage                  |
| Spacing Compatibility | 7     | Easy to repeat; different sentences keep it fresh                      |
| Engagement Factor     | 5     | Can feel repetitive; lacks gamification elements                       |
| Transfer Potential    | 8     | Strong context exposure; mimics real reading situations                |
| **Overall**           | 46/70 |                                                                        |

---

### 2. Translate English Sentence

**Description**: Students arrange shuffled Ukrainian words to form the correct translation of an English sentence containing the target word/phrase.

**Schema**:

```typescript
{
  id: number;
  sentence: string; // English sentence with target word (3-15 words)
  translation: string; // Ukrainian translation (3-15 words, single spaces, punctuation attached, first word capitalized only)
}
```

**Notes**:

- **Natural language**: English sentences and Ukrainian translations must sound fluent and authentic
- **Punctuation variety**: Use statements (.), questions (?), and exclamations (!) based on sentence type
- **Translation formatting**: 3-15 words, single-space separated, punctuation attached to words, first word capitalized only
- **UI normalization**: Trailing periods are stripped from sentences/translations before shuffling to avoid model-added periods
- **Unambiguous word order**: The Ukrainian translation must have one clear valid order when shuffled
- **All words separate**: Pronouns, prepositions, conjunctions, and particles must be separate tokens
- **Adjective-noun agreement**: Ensure correct gender, number, and case agreement in Ukrainian
- **Phrase integration**: When the target is a phrase, include it naturally within the English sentence

**Examples**:

- **Simple sentence**:
  - Word: "beautiful"
  - Sentence: "The garden is beautiful"
  - Translation: "Сад гарний"
  - Scrambled (in UI): ["Сад", "гарний"]

- **Phrase in context**:
  - Word: "take care of"
  - Sentence: "I take care of my plants"
  - Translation: "Я доглядаю за своїми рослинами"
  - Scrambled: ["доглядаю", "своїми", "Я", "за", "рослинами"]

- **Question sentence**:
  - Word: "ready"
  - Sentence: "Are you ready?"
  - Translation: "Ти готовий?"
  - Scrambled: ["готовий?", "Ти"]

**Ranking**:

| Parameter             | Score | Reason                                                |
| --------------------- | ----- | ----------------------------------------------------- |
| Retrieval Effort      | 6     | Must reconstruct target sentence from shuffled words  |
| Cognitive Load        | 7     | Requires sentence parsing and word-order reasoning    |
| Association Building  | 7     | Builds strong cross-language sentence associations    |
| Feedback Quality      | 6     | Clear right/wrong order; no explanation of grammar    |
| Spacing Compatibility | 6     | Effective for repetition; needs variety to stay fresh |
| Engagement Factor     | 7     | Puzzle-like; satisfying when correct                  |
| Transfer Potential    | 8     | Strong practice for syntax and translation flow       |
| **Overall**           | 47/70 |                                                       |

---

### 3. Translate Ukrainian Sentence

**Description**: Students arrange shuffled English words to form the correct translation of a Ukrainian sentence containing the translated target word/phrase.

**Schema**:

```typescript
{
  id: number;
  sentence: string; // Ukrainian sentence with translated target word (3-15 words)
  translation: string; // English translation (3-15 words, single spaces, punctuation attached, first word capitalized only)
}
```

**Notes**:

- **Natural language**: Ukrainian sentences and English translations must sound fluent and authentic
- **Punctuation variety**: Use statements (.), questions (?), and exclamations (!) based on sentence type
- **English completeness**: Include ALL articles (a/an/the), ALL prepositions (to/at/in/for), ALL auxiliary verbs, and correct verb forms
- **Translation formatting**: 3-15 words, single-space separated, punctuation attached to words, first word capitalized only
- **UI normalization**: Trailing periods are stripped from sentences/translations before shuffling to avoid model-added periods
- **Unambiguous word order**: The English translation must have one clear valid order when shuffled
- **All words separate**: Articles, prepositions, conjunctions, and auxiliaries must be separate tokens
- **Phrase integration**: When the target is a phrase, include it naturally within the Ukrainian sentence

**Examples**:

- **Simple sentence**:
  - Word: "beautiful"
  - Sentence: "Сад гарний"
  - Translation: "The garden is beautiful"
  - Scrambled (in UI): ["garden", "The", "is", "beautiful"]

- **Articles and prepositions**:
  - Word: "at"
  - Sentence: "Вона в магазині"
  - Translation: "She is at the store"
  - Scrambled: ["the", "at", "She", "is", "store"]

- **Auxiliary verb**:
  - Word: "be going to do"
  - Sentence: "Вони збираються подорожувати завтра"
  - Translation: "They are going to travel tomorrow"
  - Scrambled: ["are", "They", "tomorrow", "travel", "to", "going"]

**Ranking**:

| Parameter             | Score | Reason                                                |
| --------------------- | ----- | ----------------------------------------------------- |
| Retrieval Effort      | 6     | Must reconstruct target sentence from shuffled words  |
| Cognitive Load        | 7     | Requires grammar and function-word accuracy           |
| Association Building  | 7     | Builds strong cross-language sentence associations    |
| Feedback Quality      | 6     | Clear right/wrong order; no explanation of grammar    |
| Spacing Compatibility | 6     | Effective for repetition; needs variety to stay fresh |
| Engagement Factor     | 7     | Puzzle-like; satisfying when correct                  |
| Transfer Potential    | 8     | Strong practice for syntax and translation flow       |
| **Overall**           | 47/70 |                                                       |

---

### 4. Synonym and Antonym

**Description**: Students provide a synonym and an antonym for the target word or phrase.

**Schema**:

```typescript
{
  id: number;
  synonym: string; // Common, clear synonym (single word or short phrase)
  antonym: string; // Common, clear antonym (single word or short phrase)
}
```

**Notes**:

- **Same part of speech**: Synonym and antonym must match the target word's part of speech; for function words, keep the same category (article/preposition/modal/conjunction/etc.)
- **No repetition**: Do not repeat the target word or phrase
- **Real words only**: Avoid placeholders like "N/A" or "none"
- **Near matches allowed**: If no exact synonym/antonym exists, use the closest semantic match or functional opposite
- **Clarity**: Use common, clear vocabulary; single words or short phrases are acceptable

**Examples**:

- **Verb**:
  - Word: "arrive"
  - Synonym: "reach"
  - Antonym: "leave"

- **Noun**:
  - Word: "victory"
  - Synonym: "triumph"
  - Antonym: "defeat"

- **Adjective**:
  - Word: "fragile"
  - Synonym: "delicate"
  - Antonym: "sturdy"

**Ranking**:

| Parameter             | Score | Reason                                                      |
| --------------------- | ----- | ----------------------------------------------------------- |
| Retrieval Effort      | 6     | Must recall related words; less context than sentence tasks |
| Cognitive Load        | 5     | Lightweight recall; two outputs required                    |
| Association Building  | 8     | Builds strong semantic networks around the target word      |
| Feedback Quality      | 5     | Correct/incorrect matching; limited explanatory context     |
| Spacing Compatibility | 6     | Easy to repeat with variants                                |
| Engagement Factor     | 5     | Can feel dry without gamification                           |
| Transfer Potential    | 5     | Helpful for meaning, less for real-world usage contexts     |
| **Overall**           | 45/70 |                                                             |

---

## Summary Ranking

| Task Type                    | Score   |
| ---------------------------- | ------- |
| Fill in the Gap              | 46/70   |
| Translate English Sentence   | 47/70   |
| Translate Ukrainian Sentence | 47/70   |
| Synonym and Antonym          | 45/70   |
| **Overall**                  | 185/280 |
